# ************************************************************
# Sequel Pro SQL dump
# Version 4541
#
# http://www.sequelpro.com/
# https://github.com/sequelpro/sequelpro
#
# Host: 127.0.0.1 (MySQL 5.5.38)
# Database: stock
# Generation Time: 2017-06-12 13:22:41 +0000
# ************************************************************


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


# Dump of table branchs
# ------------------------------------------------------------

DROP TABLE IF EXISTS `branchs`;

CREATE TABLE `branchs` (
  `id` int(11) unsigned NOT NULL COMMENT 'auto',
  `name` varchar(250) DEFAULT NULL,
  `email` varchar(200) DEFAULT NULL,
  `address` text,
  `phone` text,
  `mobile` text,
  `logo_path` text,
  `pm_set` int(11) DEFAULT NULL,
  `active` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  `deleted_by` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

LOCK TABLES `branchs` WRITE;
/*!40000 ALTER TABLE `branchs` DISABLE KEYS */;

INSERT INTO `branchs` (`id`, `name`, `email`, `address`, `phone`, `mobile`, `logo_path`, `pm_set`, `active`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`, `deleted_by`)
VALUES
	(1,'Test Branch','Branch@Branch.com','333/3 ถนนวิภาวดีรังสิต แขวงจอมพล เขตจตุจักร กรุงเทพมหานคร','02-033-9998','02-033-9997',NULL,NULL,0,'2017-06-07 00:00:00','2017-06-07 12:08:18',NULL,1,1,NULL),
	(2,'การไฟฟ้านครหลวง','webmaster@mea.or.th','เลขที่ 30 ซอยชิดลม ถนนเพลินจิต แขวงลุมพินี เขตปทุมวัน กรุงเทพมหานคร 10330','','',NULL,NULL,1,NULL,'2017-06-07 12:14:50',NULL,1,1,NULL);

/*!40000 ALTER TABLE `branchs` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table category
# ------------------------------------------------------------

DROP TABLE IF EXISTS `category`;

CREATE TABLE `category` (
  `cat_id` int(11) unsigned NOT NULL,
  `cat_name` varchar(255) DEFAULT NULL,
  `cat_desc` text,
  `parent_cat_id` int(11) DEFAULT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  `deleted_by` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;

INSERT INTO `category` (`cat_id`, `cat_name`, `cat_desc`, `parent_cat_id`, `active`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`, `deleted_by`)
VALUES
	(1,'PWT','PWT',NULL,1,'2017-06-06 00:00:00','2017-06-06 00:00:00',NULL,1,1,NULL),
	(2,'CIMC','CIMC',NULL,1,'2017-06-06 00:00:00','2017-06-06 00:00:00',NULL,1,1,NULL),
	(3,'YORK','YORK',NULL,1,'2017-06-06 00:00:00','2017-06-06 00:00:00',NULL,1,1,NULL),
	(4,'CW-TEST','CW-TEST Description',NULL,0,'2017-06-06 15:50:15','2017-06-06 15:50:15',NULL,1,1,NULL),
	(5,'CW-TEST2','CW-TEST2 Description Edited 2',NULL,0,'2017-06-06 15:50:34','2017-06-07 10:05:01',NULL,1,1,NULL);

/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table groups
# ------------------------------------------------------------

DROP TABLE IF EXISTS `groups`;

CREATE TABLE `groups` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(20) NOT NULL,
  `description` varchar(100) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

LOCK TABLES `groups` WRITE;
/*!40000 ALTER TABLE `groups` DISABLE KEYS */;

INSERT INTO `groups` (`id`, `name`, `description`)
VALUES
	(1,'admin','Administrator'),
	(2,'members','General User');

/*!40000 ALTER TABLE `groups` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table login_attempts
# ------------------------------------------------------------

DROP TABLE IF EXISTS `login_attempts`;

CREATE TABLE `login_attempts` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `ip_address` varchar(15) NOT NULL,
  `login` varchar(100) NOT NULL,
  `time` int(11) unsigned DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table options
# ------------------------------------------------------------

DROP TABLE IF EXISTS `options`;

CREATE TABLE `options` (
  `option_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `option_name` varchar(64) NOT NULL DEFAULT '',
  `option_value` longtext NOT NULL,
  `autoload` varchar(20) NOT NULL DEFAULT 'yes',
  PRIMARY KEY (`option_id`),
  UNIQUE KEY `option_name` (`option_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

LOCK TABLES `options` WRITE;
/*!40000 ALTER TABLE `options` DISABLE KEYS */;

INSERT INTO `options` (`option_id`, `option_name`, `option_value`, `autoload`)
VALUES
	(1,'date_format','d-M-Y','yes'),
	(2,'date_format_js','dd-mm-yy','yes');

/*!40000 ALTER TABLE `options` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table product_conditions
# ------------------------------------------------------------

DROP TABLE IF EXISTS `product_conditions`;

CREATE TABLE `product_conditions` (
  `product_id` int(11) unsigned NOT NULL,
  `quantity_min` int(11) unsigned NOT NULL,
  `quantity_max` int(11) unsigned NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table product_images
# ------------------------------------------------------------

DROP TABLE IF EXISTS `product_images`;

CREATE TABLE `product_images` (
  `image_id` int(11) unsigned NOT NULL,
  `image_desc` text,
  `image_name` varchar(255) DEFAULT NULL,
  `image_data` text,
  `image_path` text,
  `product_id` int(11) NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  `deleted_by` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table products
# ------------------------------------------------------------

DROP TABLE IF EXISTS `products`;

CREATE TABLE `products` (
  `product_id` int(11) unsigned NOT NULL,
  `product_code` varchar(255) DEFAULT NULL,
  `product_name` varchar(255) DEFAULT NULL,
  `product_number` varchar(255) DEFAULT NULL,
  `product_desc` text,
  `product_price_selling` double DEFAULT '0',
  `product_price_purchasing` double DEFAULT '0',
  `product_branch_origin` int(11) unsigned NOT NULL,
  `product_branch_present` int(11) unsigned NOT NULL,
  `cat_id` int(11) unsigned NOT NULL,
  `quantity` int(11) unsigned NOT NULL,
  `parent_product_id` int(11) DEFAULT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  `deleted_by` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table reason
# ------------------------------------------------------------

DROP TABLE IF EXISTS `reason`;

CREATE TABLE `reason` (
  `reason_id` int(11) NOT NULL,
  `reason_title` varchar(255) NOT NULL,
  `reason_desc` text,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  `deleted_by` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

LOCK TABLES `reason` WRITE;
/*!40000 ALTER TABLE `reason` DISABLE KEYS */;

INSERT INTO `reason` (`reason_id`, `reason_title`, `reason_desc`, `active`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`, `deleted_by`)
VALUES
	(1,'ตัด Stock2','ตัด Stock desc 2',1,'0000-00-00 00:00:00','2017-06-07 12:40:09',NULL,1,1,NULL);

/*!40000 ALTER TABLE `reason` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table sessions
# ------------------------------------------------------------

DROP TABLE IF EXISTS `sessions`;

CREATE TABLE `sessions` (
  `id` varchar(128) NOT NULL,
  `ip_address` varchar(45) NOT NULL,
  `timestamp` int(10) unsigned NOT NULL DEFAULT '0',
  `data` blob NOT NULL,
  KEY `ci_sessions_timestamp` (`timestamp`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

LOCK TABLES `sessions` WRITE;
/*!40000 ALTER TABLE `sessions` DISABLE KEYS */;

INSERT INTO `sessions` (`id`, `ip_address`, `timestamp`, `data`)
VALUES
	('f8caf9a36f6b832cf6fdc5c3d20c2bf2d7c11ae0','::1',1497252837,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235323535383B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('577b7abe45032ab995d3bf6d93134cec4b27d4b1','::1',1497253169,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235323838363B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('12b03c2f28de5eca60953b198b169cc910d48419','::1',1497253529,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235333239323B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('dacc5ba339061892f5c1c217413fb0f2d72faeea','::1',1497253734,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235333733333B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('81c4ffee6dac564d26e59a034579b1346e42199e','::1',1497254337,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235343034383B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('7c91afa3108a72305b59938a9b33017aa1fced1d','::1',1497254691,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235343339363B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('616eaefc016dbe4643f6bdb67a5c8843e76942c9','::1',1497254701,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235343730313B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('a861493db22955bc003890bb214df19e31ed00e5','::1',1497254755,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235343730313B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('6a9faa7eca1669dc232ef1ff11f262e31ad66e72','::1',1497255394,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235353339343B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('6e531f516a5cad3bdf5938f6803155afd8783cc8','::1',1497258744,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235383535313B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('41340c87c561f2ec99b64ebd4b5781aaea4e3d7e','::1',1497259319,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235393032353B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('3d6d60e7fddf0f73f97c59d0d93b591433d61c69','::1',1497259676,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235393338303B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('2c0d442dc0c11fd81f6e9e41eaea135333fb69e3','::1',1497259706,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373235393639303B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('9bb86cf05a860746b0c736b3a273902d70c33814','::1',1497261603,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373236313433353B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('a5fcfc86706b261b403c5030f4805ddac7c08883','::1',1497262015,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373236313735343B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('8515c17cd3c0004b3eb4f18508a342312a744261','::1',1497262102,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373236323130323B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('346c78f83dfc334bcfefbaf4c95a50869a8159b9','::1',1497262294,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373236323130323B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323432313937223B6C6173745F636865636B7C693A313439373234363538333B'),
	('0d2a964109e6481698d10d41c5fa571a52b9e2a8','::1',1497272347,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373237323333383B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323436353833223B6C6173745F636865636B7C693A313439373237323334343B'),
	('38a27ab6f2e88b0e0da36e88bad934e9f046491d','::1',1497273458,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373237333137323B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323436353833223B6C6173745F636865636B7C693A313439373237323334343B'),
	('111bc36dfc99fd0b93df0f883de3e6e6f628eb02','::1',1497273506,X'5F5F63695F6C6173745F726567656E65726174657C693A313439373237333438313B6964656E746974797C733A31353A2261646D696E4061646D696E2E636F6D223B656D61696C7C733A31353A2261646D696E4061646D696E2E636F6D223B757365725F69647C733A313A2231223B6F6C645F6C6173745F6C6F67696E7C733A31303A2231343937323436353833223B6C6173745F636865636B7C693A313439373237323334343B');

/*!40000 ALTER TABLE `sessions` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table users
# ------------------------------------------------------------

DROP TABLE IF EXISTS `users`;

CREATE TABLE `users` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `ip_address` varchar(45) NOT NULL,
  `username` varchar(100) DEFAULT NULL,
  `password` varchar(255) NOT NULL,
  `salt` varchar(255) DEFAULT NULL,
  `email` varchar(100) NOT NULL,
  `activation_code` varchar(40) DEFAULT NULL,
  `forgotten_password_code` varchar(40) DEFAULT NULL,
  `forgotten_password_time` int(11) unsigned DEFAULT NULL,
  `remember_code` varchar(40) DEFAULT NULL,
  `created_on` int(11) unsigned NOT NULL,
  `last_login` int(11) unsigned DEFAULT NULL,
  `active` tinyint(1) unsigned DEFAULT NULL,
  `first_name` varchar(50) DEFAULT NULL,
  `last_name` varchar(50) DEFAULT NULL,
  `company` varchar(100) DEFAULT NULL,
  `branch` varchar(100) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;

INSERT INTO `users` (`id`, `ip_address`, `username`, `password`, `salt`, `email`, `activation_code`, `forgotten_password_code`, `forgotten_password_time`, `remember_code`, `created_on`, `last_login`, `active`, `first_name`, `last_name`, `company`, `branch`, `phone`)
VALUES
	(1,'127.0.0.1','administrator','$2a$07$SeBknntpZror9uyftVopmu61qg0ms8Qv1yV6FG.kQOSM.9QhmTo36','','admin@admin.com','','MEYMvFPJzK9kcLEdqqMhwu0b6142ac9bc3b69fb1',1495649960,NULL,1268889823,1497272344,1,'Admin','istrator','ADMIN',NULL,'0'),
	(2,'::1','ad2@ad.com','$2y$08$/wakpgz4qSUwlLVnPqLmLeEC38WxnnGf/m8wFF2ior262H0TnUvm2',NULL,'ad2@ad.com',NULL,NULL,NULL,NULL,1497202309,NULL,1,'sss','jj',NULL,NULL,'jjj');

/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table users_groups
# ------------------------------------------------------------

DROP TABLE IF EXISTS `users_groups`;

CREATE TABLE `users_groups` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(11) unsigned NOT NULL,
  `group_id` mediumint(8) unsigned NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uc_users_groups` (`user_id`,`group_id`),
  KEY `fk_users_groups_users1_idx` (`user_id`),
  KEY `fk_users_groups_groups1_idx` (`group_id`),
  CONSTRAINT `fk_users_groups_groups1` FOREIGN KEY (`group_id`) REFERENCES `groups` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT `fk_users_groups_users1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

LOCK TABLES `users_groups` WRITE;
/*!40000 ALTER TABLE `users_groups` DISABLE KEYS */;

INSERT INTO `users_groups` (`id`, `user_id`, `group_id`)
VALUES
	(1,1,1),
	(2,1,2),
	(3,2,2);

/*!40000 ALTER TABLE `users_groups` ENABLE KEYS */;
UNLOCK TABLES;



/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
